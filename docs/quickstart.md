### 치지직 애플리케이션 등록하기
네이버에 로그인한 후, [치지직 Developers](https://developers.chzzk.naver.com) 에 접속합니다.
<br> 메인 화면의 ``내 서비스`` 버튼을 클릭합니다.

[ 이미지 ]

애플리케이션 목록 페이지에서 ``애플리케이션 등록`` 을 클릭합니다.
<br> 등록 페이지의 내용을 아래 표를 참고하여 입력해주세요.

| 구분           | 설정값                                 | 비고                                                                               |
| ------------ | ----------------------------------- | -------------------------------------------------------------------------------- |
| 애플리케이션 ID    | <원하는 대로 입력>                         | naver, chzzk 등 고유명사를 사용할 수 없습니다.                                                 |
| 애플리케이션 이름    | <원하는 대로 입력>                         | naver, chzzk 등 고유명사를 사용할 수 없습니다.                                                 |
| 로그인 리디렉션 URL | ``http://localhost:8080/``          | 프록시 측에서 해당 페이지를 호스팅합니다.                                                          |
| API Scopes   | ``채팅 메시지 조회``, ``후원 조회``, ``구독 조회`` | 각각 채팅, 후원, 구독 이벤트 처리에 필요합니다. v1.1 기준 채팅 메시지만 사용하지만, 추후 후원/구독 이벤트 또한 업데이트될 예정입니다. |


등록 후 표시되는 화면에서 ``클라이언트 ID``, ``클라이언트 Secret``을 안전한 곳에 복사해둡니다. (오버레이 설정에 사용됩니다.)

---
### 캔냥닷치 프록시 시작하기
다운로드받은 캔냥닷치 프록시(``cannyandachi_Proxy_windows(x64/86).exe``) 파일을 실행합니다.
<br> 캔냥닷치 프록시는 별도의 창 없이 작업 표시줄 아이콘으로 실행됩니다.

> [!NOTE]
> 기본적으로 프록시 서버는 ``ws://127.0.0.1:8765/ws/`` 에서 실행됩니다.
> <br>만약 포트 번호나 IP 변경을 원하는 경우, 트레이 아이콘을 우클릭한 다음 '설정 파일 열기' 를 눌러 설정 파일을 연 뒤, 원하는 IP 주소나 포트를 입력한 후 저장하고, 프록시 프로그램을 다시 실행해주세요.
```ini
[SERVER]
host = 127.0.0.1 <-- 해당 열에서 프록시 서버 주소를 바꿀 수 있습니다.
port = 8765

[LOGGING]
file = proxy.log
level = INFO
```
---
### 캔냥닷치 오버레이 시작하기
> 참고: 원활한 사용을 위해, 오버레이 프로그램은 **프록시를 먼저 실행한 후** 실행해주세요.

깃허브에서 최신 릴리즈를 다운로드받습니다.

실행 후 창 왼쪽으로 마우스를 가져다대면 설정 패널이 표시됩니다.
설정 패널의 ``인증 설정`` 탭에서 최상단의 ``클라이언트 ID`` 와 ``클라이언트 Secret``에 치지직 개발자 센터에서 발급받은 클라이언트 ID, 클라이언트 Secret을 각각 붙여넣기한 후 ``로그인`` 버튼을 클릭합니다.
[ 이미지 ]

> [!NOTE]
> ``자동 로그인`` 을 체크하면 입력된 인증 정보를 별도의 ``authInfo.cfg`` 파일에 저장하고, 다음에 오버레이를 실행할 때 브라우저 인증 화면이 자동으로 표시됩니다.
> <br>인증 정보를 지우려면 ``자동 로그인`` 체크를 해제하면 인증 정보가 소거됩니다.
> 
> 해당 인증 정보 파일은 **암호화가 되어 있지 않으므로 보안에 각별한 주의를 요합니다.**


브라우저에서 네이버 로그인 및 애플리케이션 승인을 마친 후, 리디렉션되는 화면에서 ``인증 키 복사하기`` 버튼을 눌러 인증 키를 복사합니다.

[ 이미지 ]


복사한 인증 키를 ``인증 키를 입력하세요...`` 필드에 붙여넣기한 후, ``인증`` 버튼을 클릭합니다.
<br>제대로 인증이 진행된 경우 아래의 Access Token, Refresh Token 입력란에 자동으로 값이 입력됩니다.

[ 이미지 ]


(프록시 서버 주소나 포트를 바꾼 경우 주소 입력란에 변경한 주소를 입력하고) ``프록시에 접속하기`` 토글을 활성화합니다.
<br>접속이 완료되면 ``네이버 및 치지직 API에 로그인되었습니다. 즐거운 스트리밍 되세요!`` 라는 알림이 5초동안 표시되었다가 사라집니다. 이제 프로그램이 채팅을 수신할 준비가 되었습니다!

> [!IMPORTANT]
> 기본 아바타가 설정되어 있지 않은 경우 ``기본 아바타가 설정되어 있지 않습니다.`` 알림이 표시됩니다.
> <br>[아바타 관리하기](https://github.com/BlacK-CHi/cannyadachi/blob/main/docs/avatar.md) 문서를 참고하여 아바타를 불러오기 & 기본 아바타 설정 후 재시도해주세요.

